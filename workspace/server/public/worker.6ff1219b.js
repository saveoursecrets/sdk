(()=>{function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequire809c;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},t.parcelRequire809c=a),a.register("bGWGM",(function(t,n){var r,a;e(t.exports,"register",(()=>r),(e=>r=e)),e(t.exports,"resolve",(()=>a),(e=>a=e));var o={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)o[t[n]]=e[t[n]]},a=function(e){var t=o[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),a.register("8IoA4",(function(t,n){var r;e(t.exports,"getBundleURL",(()=>r),(e=>r=e));var a={};function o(e){return(""+e).replace(/^((?:https?|file|ftp):\/\/.+)\/[^/]+$/,"$1")+"/"}r=function(e){var t=a[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp):\/\/[^)\n]+/g);if(e)return o(e[2])}return"/"}(),a[e]=t),t}})),a("bGWGM").register(JSON.parse('{"2WX22":"worker.6ff1219b.js","6DeOB":"sos_wasm_bg.36f55a9f.wasm"}'));var o={};let i;e(o,"WebVault",(()=>S)),e(o,"generatePassphrase",(()=>E));let _=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});_.decode();let s=null;function c(){return null!==s&&s.buffer===i.memory.buffer||(s=new Uint8Array(i.memory.buffer)),s}function u(e,t){return _.decode(c().subarray(e,e+t))}const l=new Array(32).fill(void 0);l.push(void 0,null,!0,!1);let f=l.length;function b(e){f===l.length&&l.push(l.length+1);const t=f;return f=l[t],l[t]=e,t}function d(e){return l[e]}let w=0,g=new TextEncoder("utf-8");const p="function"==typeof g.encodeInto?function(e,t){return g.encodeInto(e,t)}:function(e,t){const n=g.encode(e);return t.set(n),{read:e.length,written:n.length}};function y(e,t,n){if(void 0===n){const n=g.encode(e),r=t(n.length);return c().subarray(r,r+n.length).set(n),w=n.length,r}let r=e.length,a=t(r);const o=c();let i=0;for(;i<r;i++){const t=e.charCodeAt(i);if(t>127)break;o[a+i]=t}if(i!==r){0!==i&&(e=e.slice(i)),a=n(a,r,r=i+3*e.length);const t=c().subarray(a+i,a+r);i+=p(e,t).written}return w=i,a}let h=null;function m(){return null!==h&&h.buffer===i.memory.buffer||(h=new Int32Array(i.memory.buffer)),h}function v(e){const t=d(e);return function(e){e<36||(l[e]=f,f=e)}(e),t}function k(e,t){return c().subarray(e/1,e/1+t)}function E(e){try{const r=i.__wbindgen_add_to_stack_pointer(-16);i.generatePassphrase(r,e);var t=m()[r/4+0],n=m()[r/4+1];if(m()[r/4+2])throw v(n);return v(t)}finally{i.__wbindgen_add_to_stack_pointer(16)}}function A(e,t){try{return e.apply(this,t)}catch(e){i.__wbindgen_exn_store(b(e))}}class S{static __wrap(e){const t=Object.create(S.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();i.__wbg_webvault_free(e)}constructor(){var e=i.webvault_new();return S.__wrap(e)}initialize(e,t){try{const r=i.__wbindgen_add_to_stack_pointer(-16);i.webvault_initialize(r,this.ptr,b(e),b(t));var n=m()[r/4+0];if(m()[r/4+1])throw v(n)}finally{i.__wbindgen_add_to_stack_pointer(16)}}importBuffer(e){try{const n=i.__wbindgen_add_to_stack_pointer(-16);i.webvault_importBuffer(n,this.ptr,b(e));var t=m()[n/4+0];if(m()[n/4+1])throw v(t)}finally{i.__wbindgen_add_to_stack_pointer(16)}}getSecretIndex(){try{const n=i.__wbindgen_add_to_stack_pointer(-16);i.webvault_getSecretIndex(n,this.ptr);var e=m()[n/4+0],t=m()[n/4+1];if(m()[n/4+2])throw v(t);return v(e)}finally{i.__wbindgen_add_to_stack_pointer(16)}}id(){try{const n=i.__wbindgen_add_to_stack_pointer(-16);i.webvault_id(n,this.ptr);var e=m()[n/4+0],t=m()[n/4+1];if(m()[n/4+2])throw v(t);return v(e)}finally{i.__wbindgen_add_to_stack_pointer(16)}}label(){try{const n=i.__wbindgen_add_to_stack_pointer(-16);i.webvault_label(n,this.ptr);var e=m()[n/4+0],t=m()[n/4+1];if(m()[n/4+2])throw v(t);return v(e)}finally{i.__wbindgen_add_to_stack_pointer(16)}}createAccountPassword(e){try{const r=i.__wbindgen_add_to_stack_pointer(-16);i.webvault_createAccountPassword(r,this.ptr,b(e));var t=m()[r/4+0],n=m()[r/4+1];if(m()[r/4+2])throw v(n);return v(t)}finally{i.__wbindgen_add_to_stack_pointer(16)}}createNote(e){try{const r=i.__wbindgen_add_to_stack_pointer(-16);i.webvault_createNote(r,this.ptr,b(e));var t=m()[r/4+0],n=m()[r/4+1];if(m()[r/4+2])throw v(n);return v(t)}finally{i.__wbindgen_add_to_stack_pointer(16)}}createCredentials(e){try{const r=i.__wbindgen_add_to_stack_pointer(-16);i.webvault_createCredentials(r,this.ptr,b(e));var t=m()[r/4+0],n=m()[r/4+1];if(m()[r/4+2])throw v(n);return v(t)}finally{i.__wbindgen_add_to_stack_pointer(16)}}createFileUpload(e){try{const r=i.__wbindgen_add_to_stack_pointer(-16);i.webvault_createFileUpload(r,this.ptr,b(e));var t=m()[r/4+0],n=m()[r/4+1];if(m()[r/4+2])throw v(n);return v(t)}finally{i.__wbindgen_add_to_stack_pointer(16)}}unlock(e){try{const n=i.__wbindgen_add_to_stack_pointer(-16);i.webvault_unlock(n,this.ptr,b(e));var t=m()[n/4+0];if(m()[n/4+1])throw v(t)}finally{i.__wbindgen_add_to_stack_pointer(16)}}lock(){i.webvault_lock(this.ptr)}buffer(){try{const a=i.__wbindgen_add_to_stack_pointer(-16);i.webvault_buffer(a,this.ptr);var e=m()[a/4+0],t=m()[a/4+1],n=m()[a/4+2];if(m()[a/4+3])throw v(n);var r=k(e,t).slice();return i.__wbindgen_free(e,1*t),r}finally{i.__wbindgen_add_to_stack_pointer(16)}}}var R;R=a("8IoA4").getBundleURL("2WX22")+a("bGWGM").resolve("6DeOB");var O=async function e(n){void 0===n&&(n=new URL(R));const r={wbg:{}};r.wbg.__wbindgen_json_parse=function(e,t){return b(JSON.parse(u(e,t)))},r.wbg.__wbindgen_json_serialize=function(e,t){const n=d(t);var r=y(JSON.stringify(void 0===n?null:n),i.__wbindgen_malloc,i.__wbindgen_realloc),a=w;m()[e/4+1]=a,m()[e/4+0]=r},r.wbg.__wbindgen_error_new=function(e,t){return b(new Error(u(e,t)))},r.wbg.__wbg_log_7b91984099667bb9=function(e,t){console.log(u(e,t))},r.wbg.__wbindgen_object_drop_ref=function(e){v(e)},r.wbg.__wbg_new_693216e109162396=function(){return b(new Error)},r.wbg.__wbg_stack_0ddaca5d1abfb52f=function(e,t){var n=y(d(t).stack,i.__wbindgen_malloc,i.__wbindgen_realloc),r=w;m()[e/4+1]=r,m()[e/4+0]=n},r.wbg.__wbg_error_09919627ac0992f5=function(e,t){try{console.error(u(e,t))}finally{i.__wbindgen_free(e,t)}},r.wbg.__wbg_randomFillSync_378e02b85af41ab6=function(){return A((function(e,t,n){d(e).randomFillSync(k(t,n))}),arguments)},r.wbg.__wbg_getRandomValues_99bbe8a65f4aef87=function(){return A((function(e,t){d(e).getRandomValues(d(t))}),arguments)},r.wbg.__wbg_process_5729605ce9d34ea8=function(e){return b(d(e).process)},r.wbg.__wbindgen_is_object=function(e){const t=d(e);return"object"==typeof t&&null!==t},r.wbg.__wbg_versions_531e16e1a776ee97=function(e){return b(d(e).versions)},r.wbg.__wbg_node_18b58a160b60d170=function(e){return b(d(e).node)},r.wbg.__wbindgen_is_string=function(e){return"string"==typeof d(e)},r.wbg.__wbg_static_accessor_NODE_MODULE_bdc5ca9096c68aeb=function(){return b(o)},r.wbg.__wbg_require_edfaedd93e302925=function(){return A((function(e,t,n){return b(d(e).require(u(t,n)))}),arguments)},r.wbg.__wbg_crypto_2bc4d5b05161de5b=function(e){return b(d(e).crypto)},r.wbg.__wbg_msCrypto_d003eebe62c636a9=function(e){return b(d(e).msCrypto)},r.wbg.__wbg_newnoargs_f579424187aa1717=function(e,t){return b(new Function(u(e,t)))},r.wbg.__wbg_call_89558c3e96703ca1=function(){return A((function(e,t){return b(d(e).call(d(t)))}),arguments)},r.wbg.__wbindgen_object_clone_ref=function(e){return b(d(e))},r.wbg.__wbg_self_e23d74ae45fb17d1=function(){return A((function(){return b(self.self)}),arguments)},r.wbg.__wbg_window_b4be7f48b24ac56e=function(){return A((function(){return b(window.window)}),arguments)},r.wbg.__wbg_globalThis_d61b1f48a57191ae=function(){return A((function(){return b(globalThis.globalThis)}),arguments)},r.wbg.__wbg_global_e7669da72fd7f239=function(){return A((function(){return b(t.global)}),arguments)},r.wbg.__wbindgen_is_undefined=function(e){return void 0===d(e)},r.wbg.__wbg_buffer_5e74a88a1424a2e0=function(e){return b(d(e).buffer)},r.wbg.__wbg_new_e3b800e570795b3c=function(e){return b(new Uint8Array(d(e)))},r.wbg.__wbg_set_5b8081e9d002f0df=function(e,t,n){d(e).set(d(t),n>>>0)},r.wbg.__wbg_length_30803400a8f15c59=function(e){return d(e).length},r.wbg.__wbg_newwithlength_5f4ce114a24dfe1e=function(e){return b(new Uint8Array(e>>>0))},r.wbg.__wbg_subarray_a68f835ca2af506f=function(e,t,n){return b(d(e).subarray(t>>>0,n>>>0))},r.wbg.__wbindgen_throw=function(e,t){throw new Error(u(e,t))},r.wbg.__wbindgen_memory=function(){return b(i.memory)},("string"==typeof n||"function"==typeof Request&&n instanceof Request||"function"==typeof URL&&n instanceof URL)&&(n=fetch(n));const{instance:a,module:o}=await async function(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if("application/wasm"==e.headers.get("Content-Type"))throw t;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t)}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}(await n,r);return i=a.exports,e.__wbindgen_wasm_module=o,i.__wbindgen_start(),i};const L=Symbol("Comlink.proxy"),T=Symbol("Comlink.endpoint"),N=Symbol("Comlink.releaseProxy"),x=Symbol("Comlink.thrown"),M=e=>"object"==typeof e&&null!==e||"function"==typeof e,W=new Map([["proxy",{canHandle:e=>M(e)&&e[L],serialize(e){const{port1:t,port2:n}=new MessageChannel;return j(e,t),[n,[n]]},deserialize(e){return e.start(),P(e,[],t);var t}}],["throw",{canHandle:e=>M(e)&&x in e,serialize({value:e}){let t;return t=e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[t,[]]},deserialize(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}}]]);function j(e,t=self){t.addEventListener("message",(function n(r){if(!r||!r.data)return;const{id:a,type:o,path:i}=Object.assign({path:[]},r.data),_=(r.data.argumentList||[]).map(F);let s;try{const t=i.slice(0,-1).reduce(((e,t)=>e[t]),e),n=i.reduce(((e,t)=>e[t]),e);switch(o){case"GET":s=n;break;case"SET":t[i.slice(-1)[0]]=F(r.data.value),s=!0;break;case"APPLY":s=n.apply(t,_);break;case"CONSTRUCT":{const e=new n(..._);c=e,s=Object.assign(c,{[L]:!0})}break;case"ENDPOINT":{const{port1:t,port2:n}=new MessageChannel;j(e,n),s=function(e,t){return D.set(e,t),e}(t,[t])}break;case"RELEASE":s=void 0;break;default:return}}catch(e){s={value:e,[x]:0}}var c;Promise.resolve(s).catch((e=>({value:e,[x]:0}))).then((e=>{const[r,i]=z(e);t.postMessage(Object.assign(Object.assign({},r),{id:a}),i),"RELEASE"===o&&(t.removeEventListener("message",n),C(t))}))})),t.start&&t.start()}function C(e){(function(e){return"MessagePort"===e.constructor.name})(e)&&e.close()}function I(e){if(e)throw new Error("Proxy has been released and is not useable")}function P(e,t=[],n=function(){}){let r=!1;const a=new Proxy(n,{get(n,o){if(I(r),o===N)return()=>G(e,{type:"RELEASE",path:t.map((e=>e.toString()))}).then((()=>{C(e),r=!0}));if("then"===o){if(0===t.length)return{then:()=>a};const n=G(e,{type:"GET",path:t.map((e=>e.toString()))}).then(F);return n.then.bind(n)}return P(e,[...t,o])},set(n,a,o){I(r);const[i,_]=z(o);return G(e,{type:"SET",path:[...t,a].map((e=>e.toString())),value:i},_).then(F)},apply(n,a,o){I(r);const i=t[t.length-1];if(i===T)return G(e,{type:"ENDPOINT"}).then(F);if("bind"===i)return P(e,t.slice(0,-1));const[_,s]=U(o);return G(e,{type:"APPLY",path:t.map((e=>e.toString())),argumentList:_},s).then(F)},construct(n,a){I(r);const[o,i]=U(a);return G(e,{type:"CONSTRUCT",path:t.map((e=>e.toString())),argumentList:o},i).then(F)}});return a}function U(e){const t=e.map(z);return[t.map((e=>e[0])),(n=t.map((e=>e[1])),Array.prototype.concat.apply([],n))];var n}const D=new WeakMap;function z(e){for(const[t,n]of W)if(n.canHandle(e)){const[r,a]=n.serialize(e);return[{type:"HANDLER",name:t,value:r},a]}return[{type:"RAW",value:e},D.get(e)||[]]}function F(e){switch(e.type){case"HANDLER":return W.get(e.name).deserialize(e.value);case"RAW":return e.value}}function G(e,t,n){return new Promise((r=>{const a=new Array(4).fill(0).map((()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))).join("-");e.addEventListener("message",(function t(n){n.data&&n.data.id&&n.data.id===a&&(e.removeEventListener("message",t),r(n.data))})),e.start&&e.start(),e.postMessage(Object.assign({id:a},t),n)}))}console.log("WORKER IS INITIALIZING..."),async function(){await O(),console.log("Worker finished initializing"),self.postMessage({ready:!0})}(),j({WebVault:S,generatePassphrase:E})})();
//# sourceMappingURL=worker.6ff1219b.js.map
